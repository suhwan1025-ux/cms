-- =====================================================
-- 계약방식 마스터 데이터 삽입 (운영망용)
-- 자산 등 구매업처리 규정 기반
-- =====================================================

-- 기존 데이터 확인
SELECT '현재 등록된 계약방식: ' || COUNT(*) || '개' FROM contract_methods;

-- 계약방식 데이터 삽입
INSERT INTO contract_methods (value, name, regulation, description, is_active) VALUES
    -- 최저가 계약
    ('CM04', '최저가 계약', 
     '자산 등 구매업처리 규정 제4조 3항 - 제1항에도 불구하고 위임전결 규정 예산집행 전결 한도표에서 정의하는 본부장 이하 전결사항을 구매할 경우 계약부서 본부장의 승인을 받은 경우 2개처 이상의 공급업체로부터 계약금액을 제출받아 최저가 제출업체로 선정할 수 있다.', 
     '최저가로 선정', TRUE),
    
    -- 경쟁계약 (일반경쟁계약)
    ('CM05', '경쟁계약(일반경쟁계약)', 
     '자산 등 구매업처리 규정 제5조 1항 - 구매대상의 규격 및 시방서와 계약조건 등 계약의 내용을 널리 공고하여 일정한 자격을 가진 불특정 다수인의 입찰희망자를 참여시켜 경쟁입찰을 실시하는 계약방법', 
     '일반경쟁입찰', TRUE),
    
    -- 경쟁계약 (제한경쟁계약)
    ('CM06', '경쟁계약(제한경쟁계약)', 
     '자산 등 구매업처리 규정 제5조 2항 - 압찰참가자격을 실적, 기술보유현황, 필요설비 등 기타의 기준에 의해 입찰자격을 제한하여 당해 계약을 이행할 능력이 없는 자를 입찰에서 배제 시킴으로써 계약의 공개성 및 경제성을 유지시키는 계약 방법', 
     '입찰자격 제한', TRUE),
    
    -- 경쟁계약 (지명경쟁계약)
    ('CM07', '경쟁계약(지명경쟁계약)', 
     '자산 등 구매업처리 규정 제5조 3항 - 계약의 성질 또는 목적에 비추어 특수한 설비/기술/자재/물품 또는 실적이 있는 자가 아니면 계약목적을 달성하기 곤란한 경우 3개 이상의 업체를 선정하여 공문 등의 방법으로 지명통보를 하고 2개 업체 이상 응찰 시 성립되며, 대상 품목의 성격을 고려하여 최저가 낙찰 또는 평가를 통하여 최적의 낙찰자를 선정', 
     '3개 이상 업체 지명', TRUE),
    
    -- 경쟁계약 (협상에 의한 계약)
    ('CM08', '경쟁계약(협상에 의한 계약)', 
     '자산 등 구매업처리 규정 제6조 - 당사에 필요한 최소한의 기술 및 지원사항 이 외 추가 적인 조건을 가격과 병행 평가하고자 하는 경우, 각 기술 및 지원사항의 장단점이 존재하는 경우 등의 평가에 사용하며 제한 또는 지명의 방식으로 입찰을 시행하고 적정한 비율에 의거 기술 및 가격평가를 실행하여 우선협상대상자 및 차상위 업체를 결정하고, 우선협상대상업체, 차상위 업체 순으로 추가적인 협상절차를 통하여 회사에 가장 유리하다고 인정되는 자와 계약을 체결', 
     '기술+가격평가 후 협상', TRUE),
    
    -- 수의계약 (제6조 제1항의 가)
    ('CM10', '수의계약(제6조 제1항의 가)', 
     '자산 등 구매업처리 규정 제6조 제1항의 가 - 천재지변, 긴급한 시설공사, 기타 이에 준하는 경우로서 경쟁에 부칠 여지가 없는 경우', 
     '긴급한 경우', TRUE),
    
    -- 수의계약 (제6조 제1항의 나)
    ('CM11', '수의계약(제6조 제1항의 나)', 
     '자산 등 구매업처리 규정 제6조 제1항의 나 - 계약의 목적을 비밀로 할 필요가 있는 경우', 
     '비밀 유지 필요', TRUE),
    
    -- 수의계약 (제6조 제1항의 다)
    ('CM12', '수의계약(제6조 제1항의 다)', 
     '자산 등 구매업처리 규정 제6조 제1항의 다 - 계약의 목적, 성질, 비용절감 또는 관리 효율성 등 수의계약에 의하는 것이 유리하거나 불가피하다고 인정될 경우', 
     '수의계약이 유리한 경우', TRUE),
    
    -- 수의계약 (제6조 제1항의 라)
    ('CM13', '수의계약(제6조 제1항의 라)', 
     '자산 등 구매업처리 규정 제6조 제1항의 라 - 그룹 통합 구매에 따라 진행하는 일괄 또는 통합 구매 품목일 경우', 
     '그룹 통합 구매', TRUE),
    
    -- 수의계약 (제6조 제1항의 마)
    ('CM14', '수의계약(제6조 제1항의 마)', 
     '자산 등 구매업처리 규정 제6조 제1항의 마 - 제4조제1항, 제4조제3항의 경우 재입찰에도 불구하고 단독입찰이 이루어진 경우로서 위임전결규정에 의한 전결권자가 승인한 경우', 
     '단독입찰 승인', TRUE),
    
    -- 수의계약 (제6조 제2항의 가)
    ('CM15', '수의계약(제6조 제2항의 가)', 
     '자산 등 구매업처리 규정 제6조 제2항의 가 - 특허를 받았거나 실용신안등록, 의장등록이 된 물품을 제조하게 하거나 매입하는 경우', 
     '특허/실용신안 제품', TRUE),
    
    -- 수의계약 (제6조 제2항의 나)
    ('CM16', '수의계약(제6조 제2항의 나)', 
     '자산 등 구매업처리 규정 제6조 제2항의 나 - 당해 물품의 생산자 또는 소지자가 1인뿐인 경우로서 다른 물품의 제조 또는 매입으로서는 사업목적을 달성할 수 없는 경우', 
     '단독 생산자', TRUE),
    
    -- 수의계약 (제6조 제2항의 다)
    ('CM17', '수의계약(제6조 제2항의 다)', 
     '자산 등 구매업처리 규정 제6조 제2항의 다 - 이미 조달된 물품의 부품교환, 설비확충 또는 증설을 위하여 조달하는 경우로서 해당 물품을 제조/공급한 자 외의 자로서는 제조/공급을 받게 되는 호환성이 없게 되는 경우', 
     '호환성 유지', TRUE),
    
    -- 수의계약 (제6조 제2항의 라)
    ('CM18', '수의계약(제6조 제2항의 라)', 
     '자산 등 구매업처리 규정 제6조 제2항의 라 - 특정인과 학술연구 등의 용역계약, 특정인의 기술/품질이나 경험 또는 자격을 필요로 하는 용역계약', 
     '특정 기술/자격 필요', TRUE),
    
    -- 수의계약 (제6조 제2항의 마)
    ('CM19', '수의계약(제6조 제2항의 마)', 
     '자산 등 구매업처리 규정 제6조 제2항의 마 - 용역의 제공이 주로 인력으로 이루어지는 계약으로 업무연속성 유지를 위한 용역 계약', 
     '업무연속성 유지', TRUE),
    
    -- 수의계약 (제6조 제2항의 바)
    ('CM20', '수의계약(제6조 제2항의 바)', 
     '자산 등 구매업처리 규정 제6조 제2항의 바 - 해당 물품을 제조/공급한 자가 직접 그 물품을 설치/조립/정비 또는 유지보수하는 경우', 
     '제조사 직접 설치/유지보수', TRUE),
    
    -- 수의계약 (제6조 제2항의 사)
    ('CM21', '수의계약(제6조 제2항의 사)', 
     '자산 등 구매업처리 규정 제6조 제2항의 사 - 특정 공급자가 제공하는 정보이용 계약으로 정보제공 연속성을 위한 서비스 이용계약', 
     '정보제공 연속성', TRUE)

-- 중복 시 기존 데이터 유지
ON CONFLICT (value) DO NOTHING;

-- 결과 확인
SELECT '✓ 계약방식 데이터 삽입 완료: ' || COUNT(*) || '개' FROM contract_methods;

-- 삽입된 데이터 목록 확인
SELECT 
    id,
    value,
    name,
    LEFT(regulation, 50) || '...' as regulation_preview,
    is_active,
    created_at
FROM contract_methods
ORDER BY value;

